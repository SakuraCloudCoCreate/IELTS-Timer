import{r as f,a as h,l as i,j as w,c as T,d as u,e as p,f as c,w as r,g as o,h as l,n as I,t as d,k as v,F as y,b as C,E as x,p as k,i as N}from"./index-CRnsF1Hj.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S=_=>(k("data-v-dd68ea8b"),_=_(),N(),_),M={key:0,class:"reading-statistic"},E=S(()=>o("p",{class:"reading-statistic-text"},"Counting time:",-1)),D={key:1,class:"reading-title"},z=S(()=>o("h1",{style:{"font-size":"40px","margin-bottom":"5px"}},"Reading",-1)),F=S(()=>o("p",{style:{"font-size":"20px","padding-bottom":"20px"}},"Start to practice for IELTS",-1)),R=[z,F],V={class:"reading-status"},A={style:{"font-size":"20px",margin:"0"}},L={key:2,class:"reading-button"},P={class:"reading-button-external"},j={style:{display:"contents"}},U=S(()=>o("span",{id:"rocket"},"ðŸš€",-1)),W={id:"description"},$={__name:"Reading",setup(_){const s=f({text:"To be started",color:"#F56C6C"}),e=f({visible:!1,minutes_1:6,minutes_2:0,seconds_1:0,seconds_2:0}),a=f({visible:!0,text:"Start",click:()=>{i().status===0&&C.confirm("The IELTS policy will be announced initially. During the announcement, you cannot stop the timer","We are getting to start",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(()=>{x({type:"success",message:"getting to start"}),i().start(),setTimeout(()=>{a.text="Stop"},2e3),e.visible=!0,b()}).catch(t=>{t==="cancel"?x({type:"info",message:"Canceled"}):console.error(t)}),i().status===2&&s.text!=="Policy is announcing"&&(localStorage.setItem("totalMinutes",Number(localStorage.getItem("totalMinutes"))+(60-(e.minutes_1*10+e.minutes_2))),localStorage.setItem("totalTimes",Number(localStorage.getItem("totalTimes"))+1),localStorage.setItem("readingTimerStarted",null),i().stop(),setTimeout(()=>{a.text="Start"},1e3),e.visible=!1,s.text="To be started",s.color="#F56C6C",window.electron.electronTimerStop())}}),b=()=>{window.electron.playReadingIntroduction(),s.text="Policy is announcing",s.color="#E6A23C",setTimeout(()=>{const t=new Map;t.set("minutes_1",6),t.set("minutes_2",0),t.set("seconds_1",0),t.set("seconds_2",0),window.electron.electronTimerStart(t),s.text="Started",s.color="#67C23A",localStorage.setItem("readingTimerStarted",new Date().getTime())},43e3)};return window.electron.electronTimerCallBack(t=>{e.minutes_1=t.get("minutes_1"),e.minutes_2=t.get("minutes_2"),e.seconds_1=t.get("seconds_1"),e.seconds_2=t.get("seconds_2"),t.get("seconds_1")===0&&t.get("seconds_2")===0&&t.get("minutes_2")===0&&t.get("minutes_1")===0&&(localStorage.setItem("totalMinutes",Number(localStorage.getItem("totalMinutes"))+(60-(e.minutes_1*10+e.minutes_2))),localStorage.setItem("totalTimes",Number(localStorage.getItem("totalTimes"))+1),i().stop(),setTimeout(()=>{a.text="Start"},1e3),e.visible=!1,s.text="To be started",s.color="#F56C6C",localStorage.setItem("readingTimerStarted",null))}),h(()=>{if(localStorage.getItem("readingTimerStarted")!==null&&new Date().getTime()-Number(localStorage.getItem("readingTimerStarted"))<36e5&&s.text==="To be started"){const t=new Map;let m=Math.floor((36e5-(new Date().getTime()-Number(localStorage.getItem("readingTimerStarted"))))/1e3),n=Math.floor(m/60),g=m-n*60;t.set("minutes_1",Math.floor(n/10)),t.set("minutes_2",n-t.get("minutes_1")*10),t.set("seconds_1",Math.floor(g/10)),t.set("seconds_2",g-t.get("seconds_1")*10),e.minutes_1=t.get("minutes_1"),e.minutes_2=t.get("minutes_2"),e.seconds_1=t.get("seconds_1"),e.seconds_2=t.get("seconds_2"),i().start(),setTimeout(()=>{a.text="Stop"},1e3),e.visible=!0,localStorage.setItem("readingTimerStarted",new Date().getTime()),window.electron.electronTimerStart(t)}}),w(()=>{s.text==="Started"&&window.electron.electronTimerStop()}),(t,m)=>{const n=T("el-col"),g=T("el-row");return u(),p(y,null,[e.visible?(u(),p("div",M,[E,c(g,{class:"reading-statistic-row"},{default:r(()=>[c(n,{span:3,class:"reading-statistic-col"},{default:r(()=>[l(d(e.minutes_1),1)]),_:1}),c(n,{span:3,class:"reading-statistic-col"},{default:r(()=>[l(d(e.minutes_2),1)]),_:1}),c(n,{span:1,class:"reading-statistic-col"},{default:r(()=>[l(":")]),_:1}),c(n,{span:3,class:"reading-statistic-col"},{default:r(()=>[l(d(e.seconds_1),1)]),_:1}),c(n,{span:3,class:"reading-statistic-col"},{default:r(()=>[l(d(e.seconds_2),1)]),_:1})]),_:1})])):(u(),p("div",D,R)),o("div",V,[o("p",A,[l("Status: "),o("span",{style:I({"font-size":"15px",color:s.color})},d(s.text),5)])]),a.visible?(u(),p("div",L,[o("div",P,[o("div",{class:"reading-button-inner",id:"reading-button-inner",onClick:m[0]||(m[0]=q=>a.click())},[o("div",j,[U,o("p",W,d(a.text),1)])])])])):v("",!0)],64)}}},J=B($,[["__scopeId","data-v-dd68ea8b"]]);export{J as default};
